# Cardiomegaly_Classification

-- CONTEXT: 

This folder contains code to train and use cardiomegaly classifiers using multimodal samples which contain imaging, and non-imaging information. There are scripts for two model architectures in this folder: 
- _XGBoost.ipynb_ is a XGBoost model for classification of cardiomegaly train using either only non-imaging data from MIMIC-IV, only image derived data in the form of CTR and CPAR biomarker values, or a combination of both in a multimodal implementation. The model is trained on a 5-fold cross validation method with a common test set. 
- _Image.ipynb_ is a CNN model for classification of cardiomegaly trained using only the posterior-anterior chest X-rays from MIMIX-CXR-JPG. This script does not implement 5-fold cross validation, but can easily be adapted for it using the XGBoost script as sample implementation.

The last jupyter script, _DataPipeline.ipynb_, is a script needed to combine MIMIC-IV with MIMIV-CXR-JPG to create the multimodal dataset. It is essential to run this script before attempting the XGBoost and Image files. More information on our data methods, results, and analysis can be found in the papers listed in the usage notes section below. Please note that the first paper listed in the usage notes references another multimodal model, the script for this implementation is not available in this repo.

These scripts use data sourced from 4 locations. The multimodal samples are generated from MIMIC-CXR-JPG, MIMIC-CXR, and MIMC-IV databases. In addition to these databases, biomarker values can be sourced from (LINK BIOMARKERS PAPER) or extracted using code found in the ./Biomarker_Extraction/ folder of this repo. Links available below. 

-- USAGE NOTES: 
If using this code please cite
- Multimodal Cardiomegaly_Classification with Image-Derived Digital Biomarkers (https://doi.org/10.1007/978-3-031-12053-4_2)
- LINK BIOMARKERS PAPER

Please follow required file downloads and assumed file structure shown in main repo README file

--- REQUIRED FILE DOWNLOADS ---  

- MIMIC-CXR-JPG files and image database --> https://physionet.org/content/mimic-cxr-jpg/2.0.0/
- MIMIC-CXR files (images not needed) --> https://physionet.org/content/mimic-cxr/2.0.0/
- MIMIC-IV files --> https://physionet.org/content/mimiciv/2.0/ 

- Biomarker values --> (LINK BIOMARKERS PAPER) or can be generated by implementing code in folder ./Biomarkers Extraction/ on main repo page
